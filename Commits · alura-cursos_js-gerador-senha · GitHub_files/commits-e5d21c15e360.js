"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["commits"],{50295:(e,t,n)=>{n.d(t,{Z:()=>x});var r=n(67294),i=n(42483);n(9996);var a=n(88216),s=n(73290),o=n(42379),l=n(15388);let d=l.ZP.div.withConfig({displayName:"Blankslate__StyledBlankslate",componentId:"sc-4802l5-0"})(["container-type:inline-size;.Blankslate{--blankslate-outer-padding-block:var(--base-size-32);--blankslate-outer-padding-inline:var(--base-size-32);display:grid;justify-items:center;padding:var(--blankslate-outer-padding-block) var(--blankslate-outer-padding-inline);}.Blankslate[data-spacious='true']{--blankslate-outer-padding-block:var(--base-size-80);--blankslate-outer-padding-inline:var(--base-size-40);}.Blankslate[data-border='true']{border:var(--borderWidth-thin) solid var(--borderColor-default,",");border-radius:var(--borderRadius-medium);}.Blankslate[data-narrow='true']{margin:0 auto;max-width:485px;}.Blankslate-Heading,.Blankslate-Description{margin:0;margin-bottom:var(--stack-gap-condensed);}.Blankslate-Heading{font-size:var(--text-title-size-medium);font-weight:var(--text-title-weight-medium);}.Blankslate-Description{color:var(--fgColor-muted,",");font-size:var(--text-body-size-large);}.Blankslate-Action{margin-top:var(--stack-gap-normal);}.Blankslate-Action:first-of-type{margin-top:var(--stack-gap-spacious);}.Blankslate-Action:last-of-type{margin-bottom:var(--stack-gap-condensed);}"],(0,o.U2)("colors.border.default"),(0,o.U2)("colors.fg.muted")),c=`
  /* At the time these styles were written,
  34rem was our "small" breakpoint width */
  @container (max-width: 34rem) {
    ${d} .Blankslate {
    --blankslate-outer-padding-block: var(--base-size-20);
    --blankslate-outer-padding-inline: var(--base-size-20);
  }

  ${d} .Blankslate[data-spacious='true'] {
    --blankslate-outer-padding-block: var(--base-size-44);
    --blankslate-outer-padding-inline: var(--base-size-28);
  }

  ${d} .Blankslate-Visual {
    margin-bottom: var(--stack-gap-condensed);
    max-width: var(--base-size-24);
  }

  ${d} .Blankslate-Visual svg {
    width: 100%;
  }

  ${d} .Blankslate-Heading {
    font-size: var(--text-title-size-small);
  }

  ${d} .Blankslate-Description {
    font-size: var(--text-body-size-medium);
  }

  ${d} .Blankslate-Action {
    margin-top: var(--stack-gap-condensed);
  }

  ${d} .Blankslate-Action:first-of-type {
    margin-top: var(--stack-gap-normal);
  }

  ${d} .Blankslate-Action:last-of-type {
    margin-bottom: calc(var(--stack-gap-condensed) / 2);
  }
`;function m({children:e}){return r.createElement("span",{className:"Blankslate-Visual"},e)}function u({as:e="h2",children:t}){return r.createElement(i.Z,{as:e,className:"Blankslate-Heading"},t)}function f({children:e}){return r.createElement("p",{className:"Blankslate-Description"},e)}function p({children:e,href:t}){return r.createElement("div",{className:"Blankslate-Action"},r.createElement(a.r,{as:"a",href:t,variant:"primary"},e))}function h({children:e,href:t}){return r.createElement("div",{className:"Blankslate-Action"},r.createElement(s.Z,{href:t},e))}m.displayName="Visual",u.displayName="Heading",f.displayName="Description",p.displayName="PrimaryAction",h.displayName="SecondaryAction";var x=Object.assign(function({border:e,children:t,narrow:n,spacious:i}){return r.createElement(r.Fragment,null,r.createElement("style",{type:"text/css"},c),r.createElement(d,null,r.createElement("div",{className:"Blankslate","data-border":e,"data-narrow":n,"data-spacious":i},t)))},{Visual:m,Heading:u,Description:f,PrimaryAction:p,SecondaryAction:h})},48170:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(15388),i=n(42379),a=n(15173);let s=r.ZP.a.withConfig({displayName:"BranchName",componentId:"sc-sg8jsy-0"})(["display:inline-block;padding:2px 6px;font-size:",";font-family:",";color:",";background-color:",";border-radius:",";text-decoration:none;",";"],(0,i.U2)("fontSizes.0"),(0,i.U2)("fonts.mono"),(0,i.U2)("colors.accent.fg"),(0,i.U2)("colors.accent.subtle"),(0,i.U2)("radii.2"),a.Z)},98641:(e,t,n)=>{n.d(t,{Z:()=>f});var r=n(86010),i=n(67294),a=n(15388),s=n(42483),o=n(42379),l=n(15173);let d=a.ZP.li.withConfig({displayName:"Breadcrumbs__Wrapper",componentId:"sc-9m4wsf-0"})(["display:inline-block;white-space:nowrap;list-style:none;&::after{font-size:",";content:'';display:inline-block;height:0.8em;margin:0 0.5em;border-right:0.1em solid;border-color:",";transform:rotate(15deg) translateY(0.0625em);}&:first-child{margin-left:0;}&:last-child{&::after{content:none;}}"],(0,o.U2)("fontSizes.1"),(0,o.U2)("colors.fg.muted")),c=a.ZP.nav.withConfig({displayName:"Breadcrumbs__BreadcrumbsBase",componentId:"sc-9m4wsf-1"})(["display:flex;justify-content:space-between;",";"],l.Z);function m({className:e,children:t,sx:n}){let r=i.Children.map(t,e=>i.createElement(d,null,e));return i.createElement(c,{className:e,"aria-label":"Breadcrumbs",sx:n},i.createElement(s.Z,{as:"ol",my:0,pl:0},r))}m.displayName="Breadcrumbs";let u=a.ZP.a.attrs(e=>({className:(0,r.Z)(e.selected&&"selected",e.className),"aria-current":e.selected?"page":null})).withConfig({displayName:"Breadcrumbs__BreadcrumbsItem",componentId:"sc-9m4wsf-2"})(["color:",";display:inline-block;font-size:",";text-decoration:none;&:hover,&:focus{text-decoration:underline;}&.selected{color:",";pointer-events:none;}&.selected:focus{text-decoration:none;}",";"],(0,o.U2)("colors.accent.fg"),(0,o.U2)("fontSizes.1"),(0,o.U2)("colors.fg.default"),l.Z);m.displayName="Breadcrumbs",u.displayName="Breadcrumbs.Item";var f=Object.assign(m,{Item:u});Object.assign(m,{Item:u})},81248:(e,t,n)=>{n.d(t,{jw:()=>m});var r=n(67294),i=n(81313);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let s=e=>r.createElement(i.X,a({containerWidth:"full",padding:"none",columnGap:"none",rowGap:"none",_slotsConfig:{header:o,footer:c}},e));s.displayName="Root",s.displayName="SplitPageLayout";let o=({padding:e="normal",divider:t="line",...n})=>r.createElement(i.X.Header,a({padding:e,divider:t},n));o.displayName="Header",o.displayName="SplitPageLayout.Header";let l=({width:e="large",padding:t="normal",...n})=>r.createElement(i.X.Content,a({width:e,padding:t},n));l.displayName="Content",l.displayName="SplitPageLayout.Content";let d=({position:e="start",sticky:t=!0,padding:n="normal",divider:s="line",...o})=>r.createElement(i.X.Pane,a({position:e,sticky:t,padding:n,divider:s},o));d.displayName="Pane",d.displayName="SplitPageLayout.Pane";let c=({padding:e="normal",divider:t="line",...n})=>r.createElement(i.X.Footer,a({padding:e,divider:t},n));c.displayName="Footer",c.displayName="SplitPageLayout.Footer";let m=Object.assign(s,{Header:o,Content:l,Pane:d,Footer:c})},80855:(e,t,n)=>{n.d(t,{q:()=>r});function r(e){if(null==e)throw Error("Failed to load page data.")}},29270:(e,t,n)=>{var r,i=n(5475),a=n(96810),s=n(85893),o=n(52674),l=n(37589),d=n(24533),c=n(67294);function m(e){let t=(0,d.T)(),[n]=(0,c.useState)(t?.repo),[r]=(0,c.useState)(t?.currentUser);return(0,s.jsx)(l.M,{user:r,children:(0,s.jsx)(o.d,{repository:n,children:e.children})})}try{m.displayName||(m.displayName="App")}catch{}var u=n(54207),f=n(59889),p=n(6866),h=n(15631),x=n(19343),g=n(81248),y=n(22578),j=n(63143),_=n(22326),b=n(71207),v=n(87623),w=n(85529),C=n(74121),N=n(42483),S=n(88216),k=n(54901),D=n(86010);let L={"commit-discussion-comments":"Comment-module__commit-discussion-comments--WaMOe"};var I=n(20868),Z=n(10397),E=n(28292),T=n(47121),P=n(90044),R=n(44311);let U=(e,t)=>{if(e.getStore().getSource().has(t.relayId))return;let n={},r=t.lastUserContentEdit;n[t.relayId]={__typename:"CommitComment",__isComment:"CommitComment",__id:t.relayId,id:t.relayId,viewerCanReadUserContentEdits:t.viewerCanReadUserContentEdits,lastEditedAt:t.updatedAt,lastUserContentEdit:r?{__ref:r.relayId}:null},n["client:__type:CommitComment"]={__id:"client:__type:CommitComment",__typename:"__TypeSchema",__isComment:!0},r&&(n[r.relayId]={__typename:"UserContentEdit",__id:r.relayId,id:r.relayId,editor:r.editor?{__ref:r.editor.relayId}:null},r.editor&&(n[r.editor.relayId]={__id:r.editor.relayId,__typename:"User",id:r.editor.relayId,login:r.editor.login,url:r.editor.url})),e.getStore().publish(new R.RecordSource(n))};var H=n(5833),B=n(29360);let F=(0,c.forwardRef)(({initialMarkdown:e,onCancel:t,onSave:n,referenceId:r,commentContent:i},a)=>{let o=(0,c.useRef)(null),l=(0,c.useRef)(void 0),d=(0,c.useCallback)(()=>{},[]),{markdownBody:m,resetMarkdownBody:u,markdownValidationResult:f,handleMarkdownBodyChanged:p}=(0,B.Z)({commentBoxRef:o,markdownComposerRef:a,onChange:d,onCancel:()=>{},referenceId:r});return(0,c.useEffect)(()=>{e&&!m&&p(e)},[e]),(0,c.useEffect)(()=>{i&&l.current!==i&&(p(i),l.current=i,setTimeout(()=>{o.current&&(o.current?.scrollIntoView(),o.current?.focus())},0))},[i]),(0,s.jsx)(H.q,{ref:o,validationResult:f,onChange:e=>{p(e)},onCancel:()=>{p(e??""),t&&t()},onSave:()=>n(m,u),saveButtonText:"Comment on this commit",value:m})});function $({comment:e,commitOid:t,onCancel:n,onUpdate:r}){let i=(0,o.H)(),a=`/${(0,_.j9)(i.ownerLogin)}/${(0,_.j9)(i.name)}/commit_comment`,l=(0,P.F)(a,"put"),d=(0,c.useRef)(null),m=async t=>{let n=new FormData;n.append("_method","put"),n.append("authenticity_token",l),n.append("commit_comment[id]",e.id),n.append("commit_comment[body]",t),n.append("commit_comment[bodyVersion]",e.bodyVersion);let i=await (0,v.Q)(a,{method:"POST",body:n});if(i.ok){let t=await i.json(),n={...e,body:t.source,bodyVersion:t.bodyVersion,htmlBody:t.body};r(n)}};return(0,s.jsx)(F,{initialMarkdown:e.body,ref:d,onSave:m,onCancel:n,referenceId:`${t}-${e.id}`})}F.displayName="CommitCommentEditor";try{$.displayName||($.displayName="UpdateCommitComment")}catch{}function z({comments:e,commit:t,deleteComment:n,setComments:r,setNewCommentContent:i}){let a=t=>{r(e.map(e=>e.id===t.id?t:e))};return 0===e.length?null:(0,s.jsx)("div",{className:"d-flex flex-column gap-3",children:e.map(e=>(0,s.jsx)(A,{comment:e,commit:t,deleteComment:n,setComment:a,setNewCommentContent:i},e.id))})}function A({comment:e,commit:t,deleteComment:n,setComment:r,setNewCommentContent:i}){let a=(0,o.H)(),l=`/${(0,_.j9)(a.ownerLogin)}/${(0,_.j9)(a.name)}/commit_comment`,d=(0,P.F)(l,"delete"),[m,u]=(0,c.useState)(!1),[f,p]=(0,c.useState)(e.isHidden),h=(0,c.useRef)(null),x=async()=>{if(!confirm("Are you sure you want to delete this?"))return;let t=new FormData;t.append("_method","delete"),t.append("authenticity_token",d),t.append("commit_comment[id]",e.id);let r=await (0,v.Q)(l,{method:"POST",body:t});r.ok&&n(e)},g=async t=>{let n=new FormData;n.append("_method","put"),n.append("classifier",t);let i=await (0,v.Q)(`/${(0,_.j9)(a.ownerLogin)}/${(0,_.j9)(a.name)}/commit_comment/${e.id}/minimize`,{method:"POST",body:n,headers:{Accept:"application/json"}});i.ok&&(r({...e,isHidden:!0,minimizedReason:t}),p(!0))},y=async()=>{let t=new FormData;t.append("_method","put");let n=await (0,v.Q)(`/${(0,_.j9)(a.ownerLogin)}/${(0,_.j9)(a.name)}/commit_comment/${e.id}/unminimize`,{method:"POST",body:t,headers:{Accept:"application/json"}});n.ok&&(r({...e,isHidden:!1,minimizedReason:null}),p(!1))},j=t.authors.find(t=>t.login===e.author.login)?.login;return(0,s.jsxs)("div",{className:"border rounded-2",ref:h,id:e.urlFragment,children:[(0,s.jsx)(M,{comment:{id:e.id,body:e.body,createdAt:e.createdAt,url:`${b.iG?.location}#${e.urlFragment}`,authorAssociation:e.authorAssociation?.toUpperCase(),author:{id:e.author.id,login:e.author.login},isHidden:e.isHidden,viewerCanMinimize:e.viewerCanMinimize,viewerCanSeeMinimizeButton:e.viewerCanMinimize,viewerCanSeeUnminimizeButton:e.viewerCanMinimize,minimizedReason:e.minimizedReason,viewerCanDelete:e.viewerCanDelete,viewerCanUpdate:e.viewerCanUpdate,viewerCanReport:e.viewerCanReport,viewerCanReportToMaintainer:e.viewerCanReportToMaintainer,viewerCanBlockFromOrg:e.viewerCanBlockFromOrg,viewerCanUnblockFromOrg:e.viewerCanUnblockFromOrg,reference:{number:0},repository:{id:a.id.toString(),isPrivate:a.private,name:a.name,owner:{id:a.ownerLogin,login:a.ownerLogin,url:""}}},commentAuthorLogin:e.author.login,commentSubjectAuthorLogin:j,avatarUrl:e.author.avatarUrl,isMinimized:f,editComment:()=>{u(!0)},onReplySelect:i,onMinimize:p,navigate:()=>{},hideComment:g,unhideComment:y,deleteComment:x,commentRef:h,showEditHistory:e.viewerCanReadUserContentEdits&&!!e.lastUserContentEdit,commitComment:e}),f?null:m?(0,s.jsx)("div",{className:"m-2",children:(0,s.jsx)($,{comment:e,commitOid:t.oid,onUpdate:e=>{r(e),u(!1)},onCancel:()=>u(!1)})}):(0,s.jsx)("div",{className:"d-flex flex-column m-3 gap-3",style:{gap:"12px"},children:(0,s.jsx)("div",{className:"markdown-body","data-turbolinks":"false",children:(0,s.jsx)(T.a,{disabled:!1,verifiedHTML:e.htmlBody,markdownValue:e.body,onChange:()=>{},onLinkClick:()=>{},teamHovercardsEnabled:!0})})})]})}function M({hideActions:e,...t}){let n=null,r=(0,y.useRelayEnvironment)();if(t.showEditHistory){let e=t.commitComment;U(r,e),n=(0,s.jsx)(c.Suspense,{fallback:null,children:(0,s.jsx)(E.nU,{id:e.relayId})})}return(0,s.jsx)(I.l,{...t,actions:e?void 0:(0,s.jsx)(Z.p,{...t,editHistoryComponent:n})})}try{z.displayName||(z.displayName="ExistingCommitComments")}catch{}try{A.displayName||(A.displayName="ExistingCommitComment")}catch{}try{M.displayName||(M.displayName="CommitCommentHeader")}catch{}function O({commitOid:e,addComment:t,newCommentContent:n}){let r=(0,o.H)(),i=`/${(0,_.j9)(r.ownerLogin)}/${(0,_.j9)(r.name)}/commit_comment/create`,a=(0,P.F)(i,"post"),l=(0,c.useRef)(null),d=async(n,r)=>{let s=new FormData;s.append("authenticity_token",a),s.append("commit_id",e),s.append("comment[body]",n);let o=await (0,v.Q)(i,{method:"POST",body:s});if(o.ok){let e=(await o.json()).comment;t(e),r()}};return(0,s.jsx)("div",{id:j.YD.issueCommentComposer,children:(0,s.jsx)(F,{ref:l,onSave:d,referenceId:`new-discussion-comment-${e}`,commentContent:n})})}try{O.displayName||(O.displayName="NewCommitComment")}catch{}function V({commit:e}){let{comments:t,setComments:n,commentCount:r,setCommentCount:i,hasMoreComments:a,loadDiscussionComments:l,loaded:d}=function(e,t){let[n,r]=(0,c.useState)([]),[i,a]=(0,c.useState)(!1),[s,o]=(0,c.useState)(!1),[l,d]=(0,c.useState)(0),m=(0,c.useCallback)(async n=>{a(!1);let i=await (0,v.v)((0,_.Oc)({owner:t.ownerLogin,repo:t.name,commitOid:e.oid,beforeCommentId:n}));if(i.ok){let e=await i.json();n?r(t=>[...e.comments,...t]):r(e.comments),o(e.canLoadMoreComments),d(e.commentCount),a(!0)}},[t.ownerLogin,t.name,e.oid]);return(0,c.useEffect)(()=>{i||m()},[m]),{comments:n,setComments:r,commentCount:l,setCommentCount:d,hasMoreComments:s,loadDiscussionComments:m,loaded:i}}(e,(0,o.H)()),[m,u]=(0,c.useState)(void 0);return((0,c.useEffect)(()=>{if(b.iG?.location.hash){let e=b.iG.location.hash.slice(1),n=t.find(t=>t.urlFragment===e);if(n){let t=document.getElementById(e);t&&(t.scrollIntoView(),t.focus())}}},[t]),d||0!==t.length)?(0,s.jsxs)(N.Z,{className:(0,D.Z)(["d-flex flex-column gap-3 pt-3",j.Ec.commentsContainer,L["commit-discussion-comments"]]),children:[(0,s.jsx)(W,{commentCount:r}),d?a?(0,s.jsx)(S.r,{className:"width-full",onClick:()=>l(t[0]?.id),children:"Load more comments"}):null:(0,s.jsx)("div",{className:"d-flex flex-justify-center",children:(0,s.jsx)(C.Z,{size:"large"})}),(0,s.jsx)(z,{comments:t,commit:e,deleteComment:e=>{n(t.filter(t=>t.id!==e.id)),i(r-1)},setComments:n,setNewCommentContent:u}),(0,s.jsx)(O,{commitOid:e.oid,addComment:e=>{n([...t,e]),i(r+1)},newCommentContent:m})]}):(0,s.jsx)("div",{className:"d-flex flex-justify-center p-3",children:(0,s.jsx)(C.Z,{size:"large"})})}function W({commentCount:e}){return(0,s.jsxs)("div",{className:"d-flex flex-items-center flex-justify-between",children:[(0,s.jsxs)("h2",{className:"sr-only",children:[e," commit comments"]}),(0,s.jsxs)("div",{className:"d-flex flex-items-center",children:[(0,s.jsx)("div",{className:"h4 pr-2",children:"Comments"}),(0,s.jsx)(k.Z,{children:e})]}),(0,s.jsx)(S.r,{leadingVisual:w.LockIcon,variant:"invisible",children:"Lock conversation"})]})}try{V.displayName||(V.displayName="DiscussionComments")}catch{}try{W.displayName||(W.displayName="DiscussionCommentsHeader")}catch{}var G=n(77461),q=n(75299),Y=n(54421),X=n(73290),Q=n(97011),J=n(41436),K=n(8152),ee=n(24167),et=n(63987),en=n(47422),er=n(99318),ei=n(46008),ea=n(98833),es=n(48170);function eo({data:e}){let t=(0,o.H)();return e.loading||0!==e.branches.length?(0,s.jsxs)(N.Z,{sx:{display:"flex",alignItems:"center",color:"fg.subtle",borderBottomStyle:"solid",borderColor:"border.default",borderWidth:"1px",p:3},children:[(0,s.jsx)(ea.Z,{icon:w.GitBranchIcon,sx:{mr:2}}),e.loading?(0,s.jsx)(ei.o,{width:"60px",variant:"rounded",height:"22px"}):e.branches.map(e=>(0,s.jsxs)(c.Fragment,{children:[(0,s.jsx)(es.Z,{href:(0,_.v5)({owner:t.ownerLogin,repo:t.name,branch:e.branch}),sx:{mx:1},children:e.branch}),e.prs.length>0?(0,s.jsxs)(s.Fragment,{children:["(",e.prs.map((t,n)=>(0,s.jsxs)(c.Fragment,{children:[(0,s.jsx)(el,{pullRequest:t}),n!==e.prs.length-1?(0,s.jsx)(s.Fragment,{children:",\xa0"}):null]},`pr-${t.repo.ownerLogin}-${t.repo.name}-${t.number}`)),")"]}):null]},e.branch))]}):null}function el({pullRequest:e}){let{repo:t,number:n,showPrefix:r}=e,i=r?`${t.ownerLogin}/${t.name}`:"";return(0,s.jsxs)(X.Z,{href:(0,_.xR)({repo:t,number:n}),sx:{color:"fg.subtle"},"data-hovercard-url":(0,_.Z0)({owner:t.ownerLogin,repo:t.name,pullRequestNumber:n}),children:[i,"#",n]})}try{eo.displayName||(eo.displayName="CommitBranchInfo")}catch{}try{el.displayName||(el.displayName="PullRequestLink")}catch{}var ed=n(50919);function ec({data:e}){let t=(0,o.H)(),[n,r]=(0,c.useState)(!1);return 0===e.tags.length?null:(0,s.jsxs)(N.Z,{sx:{display:"flex",alignItems:"center",borderBottomStyle:"solid",borderColor:"border.default",borderWidth:"1px",flexWrap:"wrap",p:3},children:[(0,s.jsx)(ea.Z,{icon:w.TagIcon,sx:{mr:2}}),(0,s.jsx)(X.Z,{href:(0,_.HY)({owner:t.ownerLogin,repo:t.name,tag:e.tags[0]}),sx:{color:"fg.default",px:1},children:e.tags[0]}),e.tags.length>2?n?e.tags.slice(1,e.tags.length-1).map(e=>(0,s.jsx)(X.Z,{href:(0,_.HY)({owner:t.ownerLogin,repo:t.name,tag:e}),sx:{color:"fg.subtle",pl:2},children:e},e)):(0,s.jsx)(ed.h,{"aria-label":"Show more tags",icon:w.KebabHorizontalIcon,size:"small",variant:"invisible",onClick:()=>r(!0)}):null,e.tags.length>1?(0,s.jsx)(X.Z,{href:(0,_.HY)({owner:t.ownerLogin,repo:t.name,tag:e.tags[e.tags.length-1]}),sx:{color:"fg.subtle",pl:1},children:e.tags[e.tags.length-1]}):null]})}try{ec.displayName||(ec.displayName="CommitTagInfo")}catch{}var em=n(51461);function eu(){return(0,s.jsxs)(em.Z,{variant:"warning",sx:{mb:4},children:[(0,s.jsx)(ea.Z,{icon:w.AlertIcon,sx:{mr:2}}),(0,s.jsx)(Q.Z,{sx:{overflow:"hidden"},children:"This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository."})]})}try{eu.displayName||(eu.displayName="SpoofedCommitWarningBaner")}catch{}function ef({oid:e,repo:t}){let n="d28fac7f18aeacb00d8ad3460a0a5a901617c2d4"===e&&15803047===t.id;return n?(0,s.jsxs)(em.Z,{sx:{mb:4},children:[(0,s.jsx)(N.Z,{as:"img",src:"/images/modules/commit/flowers@2x.png",alt:"flower image",sx:{width:"88px",height:"49px",mr:4,mt:1,float:"left"}}),(0,s.jsx)("h2",{children:"Thanks for everything, Jim."}),(0,s.jsx)("p",{children:"We will miss you."})]}):null}try{ef.displayName||(ef.displayName="WeirichCommitBanner")}catch{}function ep({commit:e}){let t=(0,o.H)(),{helpUrl:n}=(0,K.J)(),r="";try{r=e.statusCheckStatus?.short_text?.split("checks")[0]?.trim()||""}catch{}let i=function(e){let t=(0,o.H)(),[n,r]=(0,c.useState)({branches:[],tags:[],loading:!0});return(0,c.useEffect)(()=>{let n=!1,i=async()=>{r({branches:[],tags:[],loading:!0});let i=await (0,v.v)((0,_.Yc)({owner:t.ownerLogin,repo:t.name,commitish:e}));if(!n)try{if(i.ok){let e=await i.json();e.loading=!1,e&&r({...e,loading:!1})}else r({branches:[],tags:[],loading:!1})}catch(e){r({branches:[],tags:[],loading:!1})}};return i(),function(){n=!0}},[t.ownerLogin,t.name,e]),n}(e.oid);return(0,s.jsxs)("div",{children:[i.loading||0!==i.branches.length?null:(0,s.jsx)(eu,{}),(0,s.jsx)(ef,{oid:e.oid,repo:t}),(0,s.jsxs)(er.s,{children:[(0,s.jsxs)(N.Z,{sx:{display:"flex",backgroundColor:"canvas.subtle",p:3,borderTopLeftRadius:2,borderTopRightRadius:2,flexDirection:"column",borderBottomStyle:"solid",borderColor:"border.default",borderWidth:"1px"},children:[(0,s.jsxs)("div",{className:"d-flex flex-row flex-justify-between",children:[(0,s.jsxs)("div",{className:"d-flex flex-items-center",children:[(0,s.jsx)(q.WZ,{html:e.shortMessageMarkdown,sx:{fontSize:2,fontWeight:"semibold",mr:2}}),(0,s.jsx)(et.L,{oid:e.oid,status:e.statusCheckStatus?.state,descriptionString:r,repo:t})]}),(0,s.jsxs)("div",{className:"d-flex gap-2",children:[(0,s.jsx)(S.r,{as:X.Z,href:`${(0,_.jP)({owner:t.ownerLogin,repo:t.name,commitish:e.oid})}.patch`,children:"Raw"}),(0,s.jsx)(J.u,{text:"Browse the repository at this point in the history",children:(0,s.jsx)(S.r,{as:X.Z,href:(0,_.Qi)({repo:t,action:"tree",commitish:e.oid}),children:"Browse files"})})]})]}),e.bodyMessageHtml&&(0,s.jsx)(q.WZ,{html:e.bodyMessageHtml,className:"ws-pre-wrap",sx:{pb:2,wordBreak:"break-word",fontFamily:"var(--fontStack-monospace)",fontSize:"12px"}})]}),(0,s.jsx)(eo,{data:i}),(0,s.jsx)(ec,{data:i}),(0,s.jsxs)("div",{className:"d-flex flex-justify-between p-3 gap-2 flex-column flex-md-row",children:[(0,s.jsx)(en.C,{commit:e,repo:t,settings:{fontColor:"fg.default",avatarSize:20,fontWeight:"bold"},children:(0,s.jsx)("div",{className:"pl-2",children:(0,s.jsx)(Y.G,{commitOid:e.oid,hasSignature:!0,verificationStatus:e.verifiedStatus,signature:{helpUrl:n,...e.signatureInformation}})})}),(0,s.jsxs)("pre",{className:"color-fg-muted d-flex flex-items-center",children:[`${e.parents.length} parent${e.parents.length>1?"s":""} `,e.parents.map((e,n)=>(0,s.jsxs)(c.Fragment,{children:[0!==n?" + ":"",(0,s.jsx)(X.Z,{to:(0,_.jP)({owner:t.ownerLogin,repo:t.name,commitish:e}),as:G.r,className:"color-fg-default","data-hovercard-url":(0,_.QY)({owner:t.ownerLogin,repo:t.name,commitish:e}),children:(0,ee.Q)(e)})]},e))," commit ",(0,s.jsx)(Q.Z,{sx:{color:"fg.default"},children:(0,ee.Q)(e.oid)})]})]})]})]})}try{ep.displayName||(ep.displayName="CommitInfo")}catch{}var eh=n(32458),ex=n(12008),eg=n(34603),ey=n(78720),ej=n(85193),e_=n(67941);let eb="/users/diffview",ev=(0,c.createContext)({hideWhitespace:!1,splitPreference:"split",updateHideWhitespace:()=>{},updateSplitPreference:()=>{}});function ew({viewSettings:e,children:t}){let n=(0,ej.s)(),r=function(e){let t=e,[n]=(0,ej.l)(),r=n.get("diff");return("split"===r||"unified"===r)&&(t=r),t}(e.splitPreference),i=function(e){let t=e,[n]=(0,ej.l)(),r=n.get("w");return"1"===r?t=!0:"0"===r&&(t=!1),t}(e.hideWhitespace),[a,o]=(0,c.useState)(r),[l,d]=(0,c.useState)(i),m=function(){let e=(0,e_.I)(`${eb}?diff=split`,"post"),t=(0,e_.I)(`${eb}?diff=unified`,"post");return async function(n){"split"===n?await e():"unified"===n&&await t()}}(),u=(0,c.useCallback)(e=>{o(e),function(e,t){let n=new URL(window.location.href,window.location.origin);if(t){let r=encodeURIComponent(t);n.searchParams.set(e,r)}else n.searchParams.delete(e);window.history.replaceState({path:n.toString()},"",n.toString())}("diff",e),m(e)},[m]),f=(0,c.useCallback)(e=>{d(e),n(`${window.location.pathname}?w=${e?"1":"0"}`)},[n]),p=(0,c.useMemo)(()=>({hideWhitespace:l,splitPreference:a,updateHideWhitespace:f,updateSplitPreference:u}),[l,a,f,u]);return(0,s.jsx)(ev.Provider,{value:p,children:t})}function eC(){return(0,c.useContext)(ev)}try{ev.displayName||(ev.displayName="DiffViewSettingsContext")}catch{}try{ew.displayName||(ew.displayName="DiffViewSettingsProvider")}catch{}let eN={extraDiffEntries:[],loading:!0,error:!1};var eS=n(25803);function ek(e){if(!e)return"";let t=e.lastIndexOf(".");return!t||t<0?eS.ir:`.${e.substring(t+1)}`}var eD=n(75677);let eL=(e,t=0)=>`calc(${e} + ${t}px)`,eI={position:"sticky",zIndex:1,backgroundColor:"canvas.default","&::before":{bg:"canvas.default",content:'""',position:"absolute",display:"block",height:"100%",width:"calc(100% + 30px)",ml:"-14px",mr:-3}};var eZ=n(45677),eE=n(14786);function eT({oid:e,path:t,repo:n,isViewable:r=!0}){return(0,s.jsxs)(eZ.P,{children:[(0,s.jsx)(eZ.P.Anchor,{children:(0,s.jsx)(ed.h,{"aria-label":"More options",icon:w.KebabHorizontalIcon,variant:"invisible"})}),(0,s.jsx)(eZ.P.Overlay,{children:(0,s.jsxs)(eE.S,{children:[(0,s.jsxs)(eE.S.LinkItem,{href:(0,_.C9)({repo:n.name,owner:n.ownerLogin,filePath:t,commitish:e}),inactiveText:r?void 0:"Action unavailable",children:[(0,s.jsx)(eE.S.LeadingVisual,{children:(0,s.jsx)(w.EyeIcon,{})}),"View file"]}),(0,s.jsxs)(eE.S.Item,{inactiveText:"Action unavailable",children:[(0,s.jsx)(eE.S.LeadingVisual,{children:(0,s.jsx)(w.PencilIcon,{})}),"Edit file"]}),(0,s.jsxs)(eE.S.Item,{inactiveText:"Action unavailable",children:[(0,s.jsx)(eE.S.LeadingVisual,{children:(0,s.jsx)(w.TrashIcon,{})}),"Delete file"]})]})})]})}try{eT.displayName||(eT.displayName="BlobActionsMenu")}catch{}let eP=c.memo(c.forwardRef(eR));function eR({diffEntryData:e,splitPreference:t,contextLinePathURL:n,recalcTotalHeightOfVirtualWindow:r,helpUrl:i,headerStickyOffset:a=0,repo:o,oid:d,index:m}){let f=(0,l.x)(),[p,h]=(0,c.useState)(e.current[m]),[x,g]=(0,c.useState)(p.collapsed),y=(0,c.useRef)(!1),j=async function(e,t,n){let r=await (0,v.v)(`${t}?pathDigest=${n}${function(e){let t="";for(let n=0;n<e.length;n++)t+=`&lineRanges[]=${JSON.stringify(e[n])}`;return t}(e)}`);if(r.ok){let e=await r.json();return e??void 0}},_=(0,c.useRef)([]),b=async t=>{_.current.push(t);let i=await j(_.current,n,p.pathDigest);if(void 0!==i){let t={...p};t.diffLines=i.diffEntryWithContext,h(t),e.current[m]=t,r()}},w=async()=>{_.current=[],y.current||_.current.push({start:1,end:Math.max(p.oldTreeEntry?.lineCount??0,p.newTreeEntry?.lineCount??0)}),y.current=!y.current;let t=await j(_.current,n,p.pathDigest);if(void 0!==t){let n={...p};n.diffLines=t.diffEntryWithContext,h(n),e.current[m]=n,r()}};(0,c.useEffect)(()=>{_.current=[]},[e]);let C=(0,c.useMemo)(()=>{let t=e.current[m]?.diffLines?.[0]?.blobLineNumber||0;if(t>1)return!0;let n=e.current[m]?.diffLines?.length||0,r=e.current[m]?.diffLines?.[n-1]?.blobLineNumber||0,i=e.current[m]?.newTreeEntry?.lineCount||0;return r<i},[e.current[m]?.diffLines,e.current[m]?.newTreeEntry?.lineCount,m,e]);return(0,s.jsxs)("div",{className:"position-relative",children:[(0,s.jsx)(N.Z,{sx:{...eI,top:[eL(56,a),eL(64,a)]},children:(0,s.jsx)(eD.L,{areLinesExpanded:y.current,canExpandOrCollapseLines:C,fileLinkHref:`#diff-${p.pathDigest}`,isCollapsed:x,linesAdded:p.linesAdded,linesDeleted:p.linesDeleted,newMode:p.newTreeEntry?.mode,newPath:p.newTreeEntry?.path,oldMode:p.oldTreeEntry?.mode,oldPath:p.oldTreeEntry?.path,patchStatus:p.status,path:p.path,onToggleExpandAllLines:w,onToggleFileCollapsed:()=>{p.collapsed=!x,e.current[m].collapsed=!x,g(!x)},rightSideContent:(0,s.jsx)(eT,{oid:d,path:p.path,repo:o,isViewable:!p.isSubmodule})})}),!x&&(0,s.jsx)("div",{className:"border position-relative rounded-bottom-2",children:(0,s.jsx)(u.Q6,{diffEntryData:p,baseHelpUrl:i,commentingEnabled:!1,commentBatchPending:!1,repositoryId:o.id.toString(),subject:{},subjectId:"TODO",viewerData:{avatarUrl:f?.avatarURL??"",diffViewPreference:t,isSiteAdmin:!1,login:f?.login??"",tabSizePreference:f?.tabSize??8,viewerCanComment:!1,viewerCanApplySuggestion:!1},addInjectedContextLines:b,commentingImplementation:void 0,diffLinesManuallyUnhidden:!1,onHandleLoadDiff:()=>{}})})]})}try{eP.displayName||(eP.displayName="Diff")}catch{}try{eR.displayName||(eR.displayName="DiffUnmemoized")}catch{}function eU({diffEntryData:e,contextLinePathURL:t,selectedPathDigest:n,unselectedFileExtensions:r,repo:i,oid:a}){let o=eC(),l=(0,c.useRef)(e),m=(0,c.useRef)(e),u=(0,c.useRef)(e.length>40),[p,h]=(0,c.useState)({});(0,c.useEffect)(()=>{r&&r.size>0?l.current=m.current.filter(e=>!r.has(ek(e.path))):l.current=m.current,u.current=l.current.length>40,x()},[r?.size]),(0,c.useEffect)(()=>{l.current=e,m.current=e,u.current=l.current.length>40,x()},[t,e]);let x=(0,c.useCallback)(()=>h({}),[]),g=(0,d.T)(),y=(0,ex.M)(),j=function(e,t,n,r,i){let[a,s]=(0,c.useState)(eN),o=(0,c.useRef)([]),l=(0,c.useRef)(n);return(0,c.useEffect)(()=>{if(!r||!i)return;let d=!1,c=async(e,t,n)=>{s(eN);let i=await (0,v.v)(`${r}?start_entry=${e}&bytes=${t}&lines=${n}`);if(!d)try{if(i.ok){let e=await i.json();e&&(e.loading=e.loadMore,o.current=o.current.concat(e.extraDiffEntries),e.extraDiffEntries=o.current,e.loadMore&&l.current!==e.asyncDiffLoadInfo.startIndex?(l.current=e.asyncDiffLoadInfo.startIndex,c(e.asyncDiffLoadInfo.startIndex,e.asyncDiffLoadInfo.byteCount,e.asyncDiffLoadInfo.lineShownCount)):(l.current===e.asyncDiffLoadInfo.startIndex?(e.error=!0,e.loading=!1):e.error=!1,s(e)))}else a.loading=!1,a.error=!0,a.extraDiffEntries=o.current,s(a)}catch(e){a.loading=!1,a.error=!0,a.extraDiffEntries=o.current,s(a)}};return c(n,e,t),function(){d=!0}},[e,t,i,n,r]),(0,c.useEffect)(()=>{o.current=[],l.current=n},[r,n]),a}(g.asyncDiffLoadInfo.byteCount,g.asyncDiffLoadInfo.lineShownCount,g.asyncDiffLoadInfo.startIndex,g.getRestOfDiffPathURL,g.moreDiffsToLoad);(0,c.useEffect)(()=>{l.current=l.current.concat(j.extraDiffEntries),m.current=l.current,r&&r.size>0&&(l.current=m.current.filter(e=>!r.has(ek(e.path)))),u.current=l.current.length>40,x()},[j.extraDiffEntries]);let _=(0,c.useRef)(null),w=(0,eg.F)({parentRef:_,size:l.current.length,estimateSize:(0,c.useCallback)(e=>{var t;let n;return t=l.current[e],n=67,t?.collapsed?n:t?.isTooBig?104:(t?.diffLines&&(n+=25*t.diffLines.length),t?.newTreeEntry?.lineCount&&t.newTreeEntry.lineCount>(t?.diffLines[t?.diffLines.length-1]?.right??0)&&(n+=32),n)},[l.current.length,p]),useVirtualImpl:eg.A,rangeExtractor(e){let t=b.ssrSafeLocation.hash.substring(1),n=(0,f.LA)(t),r=document.querySelector("[data-path-digest]:focus-within")?.getAttribute("data-path-digest"),i=l.current.findIndex(e=>e.pathDigest===r),a=l.current.findIndex(e=>n?.endsWith(e.pathDigest));if(i<0&&a<0)return(0,ey.M)(e);let s=new Set([...(0,ey.M)(e),...[i,a].filter(e=>e>-1)]);return Array.from(s).sort((e,t)=>e-t)}});return(0,c.useEffect)(()=>{let e=function(e,t){for(let n=0;n<t.length;n++)if(e===t[n]?.pathDigest)return n;return -1}(n,l.current);if(-1!==e){if(u.current)w.scrollToIndex(e,{align:"start"}),requestAnimationFrame(()=>{let t=_.current?.querySelectorAll(`[aria-label="collapse file: ${l.current[e]?.path}"]`);if(t&&1===t.length){let e=t[0];e.focus()}});else{let t=_.current?.querySelectorAll(`[data-diff-anchor=diff-${n}]`);if(t&&1===t.length){let n=t[0],r=n.getBoundingClientRect().top+(b.iG?.scrollY??0)-67;b.iG?.scrollTo({top:r});let i=_.current?.querySelectorAll(`[aria-label="collapse file: ${l.current[e]?.path}"]`);if(i&&1===i.length){let e=i[0];e.focus()}}}}},[n]),(0,s.jsxs)("div",{"data-hpc":!0,ref:_,children:[!u.current&&l.current.map((e,n)=>(0,s.jsx)("div",{style:{paddingTop:0===n?0:16,left:3,right:3},children:(0,s.jsx)(eP,{diffEntryData:l,index:n,splitPreference:o.splitPreference,contextLinePathURL:t,recalcTotalHeightOfVirtualWindow:eh.Z,repo:i,helpUrl:y.helpUrl,oid:a})},e.pathDigest)),u.current&&(0,s.jsx)("div",{style:{height:w.totalSize,width:"100%",position:"relative"},children:w.virtualItems.map(e=>{let n=l.current[e.index];return n?(0,s.jsx)("div",{ref:e.measureRef,"data-key":e.key,style:{position:"absolute",paddingTop:0===e.index?0:16,left:3,right:3,transform:`translateY(${e.start}px)`},children:(0,s.jsx)(eP,{diffEntryData:l,index:e.index,splitPreference:o.splitPreference,contextLinePathURL:t,recalcTotalHeightOfVirtualWindow:x,headerStickyOffset:-e.start,helpUrl:y.helpUrl,repo:i,oid:a})},n.pathDigest):null})}),g.moreDiffsToLoad&&(0,s.jsxs)(s.Fragment,{children:[j.loading&&(0,s.jsx)("div",{className:"d-flex flex-items-center",style:{justifyContent:"center",paddingTop:"16px"},children:(0,s.jsx)(C.Z,{size:"medium"})}),j.error&&(0,s.jsx)("div",{style:{justifyContent:"center",paddingTop:"16px"},children:(0,s.jsx)(em.Z,{variant:"danger",children:(0,s.jsx)("div",{className:"d-flex flex-items-center",style:{justifyContent:"center"},children:"There was a problem loading the remainder of the diff."})})})]})]})}try{eU.displayName||(eU.displayName="Diffs")}catch{}var eH=n(75308);function eB(){let{splitPreference:e,updateSplitPreference:t}=eC();return(0,s.jsxs)(eE.S.Group,{selectionVariant:"single",title:"Layout",children:[(0,s.jsx)(eE.S.Item,{selected:"unified"===e,onSelect:()=>t("unified"),children:"Unified"}),(0,s.jsx)(eE.S.Item,{selected:"split"===e,onSelect:()=>t("split"),children:"Split"})]})}try{eB.displayName||(eB.displayName="DiffViewPreferenceToggle")}catch{}function eF(){let{hideWhitespace:e,updateHideWhitespace:t}=eC();return(0,s.jsx)(eE.S.Group,{selectionVariant:"single",title:"Whitespace",variant:"subtle",children:(0,s.jsx)(eE.S.Item,{selected:e,onSelect:()=>t(!e),children:"Hide whitespace"})})}try{eF.displayName||(eF.displayName="DiffWhitespaceToggle")}catch{}function e$(){return(0,s.jsxs)(eZ.P,{children:[(0,s.jsx)(eZ.P.Anchor,{children:(0,s.jsx)(ed.h,{"aria-label":"Diff view settings",icon:w.GearIcon,sx:{ml:2},variant:"invisible"})}),(0,s.jsx)(eZ.P.Overlay,{children:(0,s.jsxs)(eE.S,{children:[(0,s.jsx)(eB,{}),(0,s.jsx)(eE.S.Divider,{}),(0,s.jsx)(eF,{})]})})]})}try{e$.displayName||(e$.displayName="DiffViewSettings")}catch{}function ez({treeToggleElement:e,headerInfo:t}){let n=(0,c.useRef)(null),r=function(e){let[t,n]=(0,c.useState)(!1),r=(0,c.useCallback)(e=>{let r=e[e.length-1],i=r.intersectionRatio<1;i!==t&&n(i)},[t,n]);return(0,c.useEffect)(()=>{let t=e.current,n=new IntersectionObserver(r,{threshold:[1],rootMargin:"-1px 0px 0px 0px"});return e.current&&n.observe(e.current),()=>{t&&n.unobserve(t)}},[e,r]),t}(n),i=r?{display:["none","inherit"]}:{};return(0,s.jsxs)("div",{className:"d-flex flex-items-center flex-justify-between gap-2 pt-3 pt-lg-4 pb-2 position-sticky top-0 color-bg-default",style:{zIndex:2},ref:n,children:[(0,s.jsxs)("div",{className:"d-flex flex-items-center",children:[e,(0,s.jsxs)(eH.Z,{as:"h2",sx:{fontSize:2,mx:2},children:[t.filesChangedString," file",t.filesChanged>1?"s":""," changed"]}),(0,s.jsxs)(eD.X,{sx:i,isAddition:!0,children:["+",t.additions]}),(0,s.jsxs)(eD.X,{sx:i,isAddition:!1,children:["-",t.deletions]}),(0,s.jsx)(Q.Z,{sx:{fontSize:0,ml:2,color:"fg.muted",whiteSpace:"nowrap",...i},children:"lines changed"})]}),(0,s.jsxs)("div",{className:"d-flex",children:[r&&(0,s.jsx)(eA,{}),(0,s.jsx)(e$,{})]})]})}let eA=({sx:e})=>(0,s.jsx)(S.r,{leadingVisual:w.ArrowUpIcon,variant:"invisible",size:"small",sx:{color:"fg.default",height:"32px",...e},onClick:e=>{e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})},children:"Top"});try{ez.displayName||(ez.displayName="DiffsHeader")}catch{}try{eA.displayName||(eA.displayName="GoToTopButton")}catch{}var eM=n(46263),eO=n(39173),eV=n(51952);let eW="diff_file_tree";function eG({diffs:e,onFileSelected:t,diffsHeader:n,unselectedFileExtensions:r,onFileExtensionsChange:i}){let[a,o]=(0,c.useState)(""),l=(0,c.useRef)(null),d=(0,c.useMemo)(()=>new Set(e.map(e=>ek(e.path))),[e]),m=e;r&&r.size>0&&(m=m.filter(e=>!r.has(ek(e.path))));let u=a?m.filter(e=>e.path.toLowerCase().includes(a.toLowerCase())):m;return(0,s.jsxs)("div",{className:"d-flex flex-column gap-2",id:eW,children:[(0,s.jsx)("h2",{className:"sr-only",children:"File tree"}),(0,s.jsx)("div",{className:"d-md-none",ref:l,children:n}),(0,s.jsx)(eq,{filterText:a,onFilterTextChange:o,fileExtensions:d,unselectedFileExtensions:r,onFileExtensionsChange:i}),(0,s.jsx)(eO.rm,{activeFilePath:"",diffs:u,onSelect:e=>{let n=(0,eV.ZV)(window.innerWidth),r=n<=eV._G.medium;t(e,r?"close_tree":void 0)}})]})}function eq({filterText:e,onFilterTextChange:t,fileExtensions:n,unselectedFileExtensions:r,onFileExtensionsChange:i}){let a=(0,c.useRef)((0,eM.D)(e=>t(e),250));return(0,s.jsx)(eS.LG,{filterText:e,fileExtensions:n,unselectedFileExtensions:r,onFilterTextChange:e=>a.current(e),onFilterChange:(e,t)=>{i(e,t.extension)}})}try{eG.displayName||(eG.displayName="FileTree")}catch{}try{eq.displayName||(eq.displayName="FileFilter")}catch{}function eY({diffEntryData:e,contextLinePathURL:t,repo:n,oid:r}){let i=eC(),a=(0,c.useRef)(e),o=(0,ex.M)();return(0,s.jsx)("div",{"data-hpc":!0,children:e.map((e,l)=>(0,s.jsx)("div",{className:"pt-2 pb-2",children:(0,s.jsx)(eP,{diffEntryData:a,index:l,helpUrl:o.helpUrl,splitPreference:i.splitPreference,contextLinePathURL:t,recalcTotalHeightOfVirtualWindow:eh.Z,repo:n,oid:r})},e.pathDigest))})}try{eY.displayName||(eY.displayName="SSRDiffs")}catch{}var eX=n(65379);let eQ=c.forwardRef(({expanded:e,testid:t,ariaLabel:n,ariaControls:r,onToggleExpanded:i,sx:a,alignment:o,dataHotkey:l,className:d,tooltipDirection:c},m)=>(0,s.jsx)(eX.Z,{"aria-label":n,id:`expand-button-${t}`,direction:c,children:(0,s.jsx)(ed.h,{ref:m,"data-testid":e?`collapse-${t}`:`expand-${t}`,"aria-labelledby":`expand-button-${t}`,"aria-expanded":e,"aria-controls":r,icon:e?"left"===o?w.SidebarExpandIcon:w.SidebarCollapseIcon:"left"===o?w.SidebarCollapseIcon:w.SidebarExpandIcon,sx:{color:"fg.muted",...a},"data-hotkey":l,onClick:e=>{i(e)},variant:"invisible",className:d})}));eQ.displayName="ExpandButton";let eJ=(0,p.rB)();function eK(){(0,x.V)(!0);let e=(0,d.T)(),{splitPagePaneHiddenSx:t,splitPageContentHidden:n,treeToggleElement:r,collapseTree:i}=function(e,t){let n=async function(e,t){if(!t)return;let n=new FormData;n.set("file_tree_visible",e?"true":"false"),(0,v.Q)((0,_.s3)(t),{method:"PUT",body:n,headers:{Accept:"application/json"}})},[r]=(0,h.D)(()=>!1,!0,[]),i=(0,l.x)(),a=(0,c.useRef)(null),o=(0,c.useRef)(null),[d,m]=(0,c.useState)(t),[u,f]=(0,c.useState)(!1),p=(0,c.useCallback)(()=>{let e=(0,eV.ZV)(window.innerWidth);e<=eV._G.medium?(f(!0),requestAnimationFrame(()=>o.current?.focus())):(m(!0),n(!0,i),requestAnimationFrame(()=>a.current?.focus()))},[i,n]),x=(0,c.useCallback)(()=>{let e=(0,eV.ZV)(window.innerWidth);e<=eV._G.medium?(f(!1),requestAnimationFrame(()=>o.current?.focus())):(m(!1),n(!1,i),requestAnimationFrame(()=>a.current?.focus()))},[i,n]),g=(0,c.useMemo)(()=>(0,s.jsx)(eQ,{expanded:d,alignment:"left",ariaLabel:d?"Collapse file tree":"Expand file tree",tooltipDirection:"se",testid:"file-tree-button",ariaControls:e,ref:a,onToggleExpanded:()=>{d?x():p()},sx:{height:"32px",position:"relative"},className:"d-none d-md-flex"}),[d,e,x,p]),y=(0,c.useMemo)(()=>(0,s.jsx)(eQ,{expanded:u,alignment:"left",ariaLabel:u?"Collapse file tree":"Expand file tree",tooltipDirection:"se",testid:"file-tree-button",ariaControls:e,ref:o,onToggleExpanded:()=>{u?x():p()},sx:{height:"32px",position:"relative"},className:"d-md-none"}),[u,e,x,p]),j=(0,c.useMemo)(()=>(0,s.jsxs)(s.Fragment,{children:[y,g]}),[y,g]);return{splitPagePaneHiddenSx:r&&!t?{display:"none"}:{flexDirection:["column","column","inherit"],"@media screen and (max-width: 768px)":u?void 0:{display:"none"},"@media screen and (min-width: 769px)":d?{height:"100vh",maxHeight:"100vh !important"}:{display:"none"}},splitPageContentHidden:{narrow:u,regular:!1},expandTree:p,collapseTree:x,treeToggleElement:j,treeToggleRef:a}}(eW,e.fileTreeExpanded),[a,o]=(0,c.useState)(new Set),[m]=(0,h.D)(()=>!1,!0,[]),[p,j]=(0,c.useState)(""),b=(0,c.useCallback)((e,t)=>{(0,f.Ze)(`diff-${e.pathDigest}`),j(e.pathDigest),"close_tree"===t&&i()},[i]),w=(0,c.useCallback)((e,t)=>{let n=new Set(a);"selectFileExtension"===e?n.delete(t):"unselectFileExtension"===e&&n.add(t),o(n)},[a]);(0,c.useEffect)(()=>{o(new Set)},[e.commit]);let C=()=>(0,s.jsx)(ez,{treeToggleElement:r,headerInfo:e.headerInfo});return(0,s.jsx)(y.RelayEnvironmentProvider,{environment:eJ,children:(0,s.jsxs)(g.jw,{children:[(0,s.jsxs)(g.jw.Header,{children:[(0,s.jsx)("h1",{className:"sr-only",children:e.commit.shortMessage}),(0,s.jsx)(ep,{commit:e.commit})]}),(0,s.jsx)(g.jw.Pane,{position:"start",sticky:!0,sx:t,divider:{regular:"line",narrow:"none"},children:(0,s.jsx)(eG,{diffs:e.files,onFileSelected:b,unselectedFileExtensions:a,diffsHeader:(0,s.jsx)(C,{}),onFileExtensionsChange:w})}),(0,s.jsx)(g.jw.Content,{as:"div",width:"full",hidden:n,padding:"none",sx:{p:[3,4],pt:[0,0]},children:(0,s.jsx)(u.jR,{children:(0,s.jsxs)(ew,{viewSettings:{hideWhitespace:!1,splitPreference:e.splitViewPreference},children:[(0,s.jsx)(C,{}),m?(0,s.jsx)(eY,{diffEntryData:e.diffEntryData,contextLinePathURL:e.contextLinePathURL,repo:e.repo,oid:e.commit.oid}):(0,s.jsx)(eU,{diffEntryData:e.diffEntryData,contextLinePathURL:e.contextLinePathURL,unselectedFileExtensions:a,selectedPathDigest:p,repo:e.repo,oid:e.commit.oid}),(0,s.jsx)(V,{commit:e.commit})]})})})]})})}try{eK.displayName||(eK.displayName="Commit")}catch{}try{(r=DiffsHeader).displayName||(r.displayName="DiffsHeader")}catch{}function e0({url:e}){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(N.Z,{className:"text-center",children:(0,s.jsxs)("p",{className:"color-fg-muted f6 mt-4",children:["Seeing something unexpected? Take a look at the",(0,s.jsx)(X.Z,{href:e,children:" GitHub commits guide"}),"."]})})})}try{e0.displayName||(e0.displayName="CommitHelpMessage")}catch{}let e1=(0,c.createContext)({since:null,until:null,author:null,currentBlobPath:"",pagination:{hasNextPage:!1,hasPreviousPage:!1,endCursor:"",startCursor:""},newPath:null,originalBranch:null});function e2({filters:e,children:t}){return(0,s.jsx)(e1.Provider,{value:e,children:t})}function e3(){return(0,c.useContext)(e1)}try{e1.displayName||(e1.displayName="FilterContext")}catch{}try{e2.displayName||(e2.displayName="FilterProvider")}catch{}var e4=n(21449),e8=n(10227),e5=n(20748);function e9(){let e=e3();return e.newPath&&e.originalBranch}function e6(){let e=(0,o.H)(),t=e3();return e9()?(0,s.jsx)(e5.c,{sx:{pt:1,pb:0},children:(0,s.jsxs)(N.Z,{sx:{display:"flex",alignItems:"baseline"},children:[(0,s.jsx)(e5.c.Heading,{as:"h3",title:`Renamed to ${t.newPath}`,"data-testid":"commit-note-title"}),(0,s.jsx)(G.r,{to:(0,_.w2)({owner:e.ownerLogin,repo:e.name,ref:t.originalBranch,path:t.newPath}),children:"(Browse History)"})]})}):null}function e7(){let e=(0,e4.E3)();return e?.hasRenameCommits?(0,s.jsx)(e5.c,{children:(0,s.jsxs)(N.Z,{sx:{display:"flex",alignItems:"baseline"},children:[(0,s.jsx)(e5.c.Heading,{as:"h3",title:`Renamed from ${e?.oldName}`,"data-testid":"commit-note-title"}),(0,s.jsx)(G.r,{to:e?.historyUrl,children:"(Browse History)"})]})}):null}function te(){let e=(0,e4.E3)();return e?.hasRenameCommits?null:(0,s.jsx)(e5.c,{clipTimeline:"bottom",children:(0,s.jsx)(e5.c.Heading,{as:"h3",title:"End of commit history for this file","data-testid":"commit-note-title"})})}function tt(){let e=e3(),t=(0,e4.NN)();return!e.currentBlobPath||e.currentBlobPath&&e.pagination.hasNextPage?null:(0,s.jsxs)(s.Fragment,{children:[t&&(0,s.jsx)(e5.c,{leadingVisual:(0,s.jsx)(C.Z,{size:"small"})}),!t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e7,{}),(0,s.jsx)(te,{})]})]})}try{e6.displayName||(e6.displayName="RenamedToHistory")}catch{}try{e7.displayName||(e7.displayName="RenamedFromHistory")}catch{}try{te.displayName||(te.displayName="EndOfFileHistory")}catch{}try{tt.displayName||(tt.displayName="EndOfFile")}catch{}function tn({commitGroups:e,deferredDataUrl:t}){let n=e3(),r=(0,o.H)(),i=function(e){let[t,n]=(0,c.useState)(e4.Mh);return(0,c.useEffect)(()=>{if(!e)return;let t=!1,r=async()=>{n(e4.Mh);let r=await (0,v.v)(e);if(!t)try{if(r.ok){let e=await r.json();e.loading=!1,e&&n(e)}else n(e4.wI)}catch(e){n(e4.wI)}};return r(),function(){t=!0}},[e]),t}(t);return(0,s.jsxs)("div",{className:"mb-3","data-hpc":!0,children:[(0,s.jsx)(eH.Z,{as:"h2",className:"sr-only",children:"Commit History"}),(0,s.jsx)(e8.h,{leadingContent:(0,s.jsx)(e6,{}),commitGroups:e,trailingContent:(0,s.jsx)(tt,{}),repository:r,deferredCommitData:i,shouldClipTimeline:function(){let e=e9(),t=e3();return!e&&!t.pagination.hasPreviousPage}(),currentBlobPath:n.currentBlobPath})]})}try{tn.displayName||(tn.displayName="CommitList")}catch{}var tr=n(14136),ti=n(51526),ta=n(50295);function ts({timeoutMessage:e}){let t=e3();return""!==e?(0,s.jsx)(er.s,{children:(0,s.jsx)(N.Z,{"data-hpc":!0,children:(0,s.jsxs)(ta.Z,{children:[(0,s.jsx)(ta.Z.Visual,{children:(0,s.jsx)(w.HourglassIcon,{})}),(0,s.jsx)(ta.Z.Heading,{children:"Sorry, this commit history is taking too long to generate. "}),(0,s.jsxs)(ta.Z.Description,{children:[(0,s.jsx)(s.Fragment,{children:"Refresh the page to try again, or view this history locally using this command:"}),(0,s.jsx)(ti.Z,{"aria-label":"View commit history locally command",value:e,readOnly:!0,onChange:()=>{},trailingAction:(0,s.jsx)(ti.Z.Action,{onClick:()=>{(0,tr.z)(e)},icon:w.CopyIcon,"aria-label":"Copy to clipboard",sx:{color:"fg.subtle"}}),sx:{display:"flex",justifyContent:"center"}})]})]})})}):(0,s.jsx)(er.s,{children:(0,s.jsx)(N.Z,{"data-hpc":!0,children:(0,s.jsxs)(ta.Z,{children:[(0,s.jsx)(ta.Z.Visual,{children:(0,s.jsx)(w.GitCommitIcon,{})}),(0,s.jsx)(ta.Z.Heading,{children:"No commits history"}),(0,s.jsx)(ta.Z.Description,{children:(0,s.jsxs)(s.Fragment,{children:["There isn't any commit history to show here",null!==t.since||null!==t.until?" for the selected date range":""]})})]})})})}try{ts.displayName||(ts.displayName="CommitsBlankState")}catch{}var to=n(44355),tl=n(75922),td=n(98641),tc=n(63595),tm=n(18656),tu=n(15205);async function tf(e){let t=await (0,v.v)(e);return t.ok?await t.json():void 0}let tp=new Map,th=(0,tu.Z)(tf,{cache:tp});function tx(e,t){let n=new URL(b.ssrSafeLocation.origin+b.ssrSafeLocation.pathname+b.ssrSafeLocation.search,b.ssrSafeLocation.origin),r=n.searchParams;for(let e of t)r.has(e)&&r.delete(e);for(let[t,n]of Object.entries(e))r.set(t,n.toString());return n.pathname+n.search}var tg=n(80803);let ty=(0,c.lazy)(()=>Promise.resolve().then(n.bind(n,13948)).then(e=>({default:e.DatePicker}))),tj=()=>(0,s.jsx)(ea.Z,{icon:w.CalendarIcon,sx:{my:"2px",color:"fg.muted"}});function t_({repo:e,refInfo:t,path:n,author:r,contributorsUrl:i,since:a,until:l,sx:d={}}){let m=t.name;m===t.currentOid&&(m=(0,ee.Q)(t.currentOid));let u=(0,ej.s)(),f=function(e){let t=(0,o.H)(),[n,r]=(0,c.useState)({users:[],error:!1,loading:!0});return(0,c.useEffect)(()=>{let t=!1,n=async()=>{r({users:[],error:!1,loading:!0});let n=await th(e);if(t)return;let i=[],a=!1;try{n?i=n.authors:a=!0}catch(e){a=!0}r({users:i,error:a,loading:!1})};return n(),function(){t=!0}},[t,"",e,"all"]),n}(i),p=c.useMemo(()=>{let e=(0,tc.D)(a??""),t=(0,tc.D)(l??"");return(0,tm.J)(e)&&(0,tm.J)(t)?{from:e,to:t}:null},[a,l]),h=n?.split("/");return(0,s.jsxs)(N.Z,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",gap:2,...d},children:[n&&(0,s.jsx)(N.Z,{sx:{display:"flex",alignItems:"center"},children:(0,s.jsxs)(N.Z,{sx:{display:"flex",alignItems:"baseline",flexDirection:["column","row"]},children:[(0,s.jsx)(eH.Z,{as:"h2",className:"sr-only",children:"Breadcrumbs"}),(0,s.jsx)(Q.Z,{sx:{color:"fg.default",whiteSpace:"nowrap"},children:"History for"}),(0,s.jsxs)(td.Z,{sx:{ml:1},children:[(0,s.jsx)(td.Z.Item,{href:(0,_.w2)({owner:e.ownerLogin,repo:e.name}),children:e.name}),h.map((n,r,i)=>{let a=(0,_.w2)({owner:e.ownerLogin,repo:e.name,ref:t.name,path:i.slice(0,r+1).join("/")}),o=r===i.length-1;return(0,s.jsx)(td.Z.Item,{sx:{whiteSpace:"normal",...o?{fontWeight:"bold"}:{}},href:a,selected:o,children:n},a)})]}),(0,s.jsxs)(N.Z,{sx:{whiteSpace:"nowrap"},children:[(0,s.jsx)(Q.Z,{sx:{mr:2,ml:[0,2],color:"fg.default"},children:"on"}),(0,s.jsx)(es.Z,{href:(0,_.Qi)({repo:e,commitish:t.name,action:"tree"}),children:m})]})]})}),!n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eH.Z,{as:"h2",className:"sr-only",children:"Branch selector"}),(0,s.jsx)(to.cq,{cacheKey:t.listCacheKey,canCreate:!1,hotKey:"w",currentCommitish:m,getHref:t=>(0,_.w2)({owner:e.ownerLogin,repo:e.name,ref:t}),selectedRefType:"tree"===t.refType?"branch":t.refType,defaultBranch:e.defaultBranch,owner:e.ownerLogin,repo:e.name,idEnding:"commits"})]}),(0,s.jsxs)(N.Z,{sx:{display:"flex",flexDirection:["column","row"],gap:2},children:[(0,s.jsx)(eH.Z,{as:"h2",className:"sr-only",children:"User selector"}),(0,s.jsx)(tl.s,{defaultText:"All users",width:"medium",usersState:f,showTypedInUser:!0,currentUser:r??void 0,onOpenChange:e=>e,onSelect:e=>{if(e.login!==r?.login){let t={author:e.login};u(tx(t,["author"]))}},renderCustomFooter:()=>(0,s.jsx)(eE.S.LinkItem,{href:tx({},["author"]),children:"View commits for all users"})}),(0,s.jsxs)(c.Suspense,{fallback:(0,s.jsx)(S.r,{leadingVisual:tj,trailingVisual:w.TriangleDownIcon,children:"All time"}),children:[(0,s.jsx)(eH.Z,{as:"h2",className:"sr-only",children:"Datepicker"}),(0,s.jsx)(ty,{variant:"range",value:p,maxDate:new Date,minDate:new Date(e.createdAt),showTodayButton:!0,showClearButton:!0,compressedHeader:!0,onChange:e=>{if(!e){u(tx({},["since","until"]));return}let t=function(e){if(!e)return;let t=(0,tg.c)(e.from,{representation:"date"}),n=(0,tg.c)(e.to,{representation:"date"});return{startDate:t,endDate:n}}(e);if(!t)return;let{startDate:n,endDate:r}=t,i=tx({since:n,until:r},["before","after"]);u(i)},placeholder:"All time",anchor:({children:e,...t})=>(0,s.jsx)(S.r,{...t,"data-testid":"date-picker-commits",leadingVisual:tj,trailingVisual:w.TriangleDownIcon,children:e})})]})]})]})}try{ty.displayName||(ty.displayName="DatePicker")}catch{}try{tj.displayName||(tj.displayName="StyledCalendarIcon")}catch{}try{t_.displayName||(t_.displayName="ListHeader")}catch{}var tb=n(33831);function tv({paginationInfo:e}){let t=e.hasPreviousPage,n=e.hasNextPage,r=e=>e?{"aria-disabled":!0,sx:{backgroundColor:"transparent",border:"none",cursor:"default",color:"primer.fg.disabled",fontWeight:"normal"},onClick:e=>e.preventDefault()}:{};return t||n?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eH.Z,{as:"h2",className:"sr-only",children:"Pagination"}),(0,s.jsx)(N.Z,{sx:{display:"flex",justifyContent:"center",mt:2},children:(0,s.jsxs)(tb.Z,{children:[(0,s.jsx)(S.r,{as:G.r,to:tw(e,!1),sx:{color:"accent.fg",fontWeight:"normal"},...r(!t),tabIndex:0,variant:"invisible","data-testid":"pagination-prev-button",leadingVisual:t?()=>(0,s.jsx)(ea.Z,{icon:w.ChevronLeftIcon,sx:{color:"accent.fg"}}):null,children:"Previous"}),(0,s.jsx)(S.r,{as:G.r,to:tw(e,!0),sx:{color:"accent.fg",fontWeight:"normal"},...r(!n),tabIndex:0,variant:"invisible","data-testid":"pagination-next-button",trailingVisual:n?()=>(0,s.jsx)(ea.Z,{icon:w.ChevronRightIcon,sx:{color:"accent.fg"}}):null,children:"Next"})]})})]}):null}function tw(e,t){return tx(t?{after:e.endCursor}:{before:e.startCursor},[t?"before":"after"])}try{tv.displayName||(tv.displayName="Pagination")}catch{}var tC=n(81313);function tN({children:e,title:t}){return(0,s.jsxs)(tC.X,{rowGap:"none",children:[(0,s.jsx)(tC.X.Header,{divider:"line",sx:{mb:3},children:(0,s.jsx)(N.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:(0,s.jsx)(eH.Z,{as:"h1",sx:{fontSize:4,fontWeight:"normal",pb:2},id:"commits-pagehead",children:t})})}),(0,s.jsx)(tC.X.Content,{as:"div",children:(0,s.jsx)(N.Z,{children:e})})]})}try{tN.displayName||(tN.displayName="Layout")}catch{}function tS(){let e=(0,o.H)(),t=(0,K.J)(),n=(0,d.T)(),r=n.filters,i=n.commitGroups;return(0,c.useEffect)(()=>{if(!b.ssrSafeLocation.hash&&window.scrollY>0){let e=document.querySelector("#commits-pagehead");e?.scrollIntoView()}},[n.filters.pagination,n.filters.since,n.filters.until]),(0,s.jsx)(e2,{filters:n.filters,children:(0,s.jsxs)(tN,{title:"Commits",children:[(0,s.jsx)(t_,{repo:e,contributorsUrl:n.metadata.deferredContributorUrl,since:r.since,until:r.until,author:r.author,refInfo:n.refInfo,path:r.currentBlobPath,sx:{mb:3}}),0===i.length&&(0,s.jsx)(ts,{timeoutMessage:n.timedOutMessage}),i.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(tn,{commitGroups:i,deferredDataUrl:n.metadata.deferredDataUrl}),(0,s.jsx)(tv,{paginationInfo:r.pagination})]}),n.metadata.showProfileHelp&&(0,s.jsx)(e0,{url:`${t.helpUrl}/articles/troubleshooting-commits-on-your-timeline`})]})})}try{tS.displayName||(tS.displayName="Commits")}catch{}(0,a.g)("commits",()=>({App:m,routes:[(0,i.g)({path:"/:owner/:repo/commits",Component:tS}),(0,i.g)({path:"/:owner/:repo/commits/:ref",Component:tS}),(0,i.g)({path:"/:owner/:repo/commits/:ref/:path/*",Component:tS}),(0,i.g)({path:"/:owner/:repo/commit/:oid",Component:eK}),(0,i.g)({path:"/:owner/:repo/commit/:oid/:path/*",Component:eK}),(0,i.g)({path:"/_view_fragments/Voltron::CommitFragmentsController/show/:owner/:repo/:name/repo_layout",Component:eK})]}))},90044:(e,t,n)=>{n.d(t,{F:()=>i});var r=n(24533);function i(e,t){let{csrf_tokens:n}=(0,r.T)();return n?.[e]?.[t]}},67941:(e,t,n)=>{n.d(t,{I:()=>a});var r=n(67294),i=n(90044);function a(e,t){let n=(0,i.F)(e,t);return(0,r.useCallback)(async r=>{let i=t;if(!n)throw Error(`No authenticity token found for method ${i} and path ${e}`);return r||(r={}),s(r,"X-Requested-With","XMLHttpRequest"),r.body instanceof URLSearchParams&&"delete"===i&&(r.body.append("_method","delete"),i="post"),r.body instanceof URLSearchParams||r.body instanceof FormData?r.body.append("authenticity_token",n):s(r,"Scoped-CSRF-Token",n),await fetch(e,{...r,method:i})},[e,t,n])}function s(e,t,n){e.headers??(e.headers=new Headers);let r=e.headers;if(r instanceof Headers)r.set(t,n);else if(Array.isArray(r)){let e=r.findIndex(([e])=>e===t);-1===e?r.push([t,n]):r[e]=[t,n]}else r[t]=n}},75922:(e,t,n)=>{n.d(t,{s:()=>_});var r=n(85893),i=n(79804),a=n(85529),s=n(42483),o=n(45677),l=n(98833),d=n(97011),c=n(14786),m=n(51526),u=n(74121),f=n(51461),p=n(67294),h=n(63984);let x=p.memo(function({user:e,isCurrent:t,onSelect:n}){return(0,r.jsxs)(c.S.Item,{selected:t,onSelect:()=>{n&&n(e)},children:[(0,r.jsx)(c.S.LeadingVisual,{children:(0,r.jsx)(i.O,{src:e.primaryAvatarUrl,square:e.path.startsWith("/apps/")})}),e.login,(0,r.jsx)(c.S.Description,{children:e.name})]})});try{x.displayName||(x.displayName="UserItem")}catch{}function g(e){return e.users.length>20?(0,r.jsx)(j,{...e}):(0,r.jsx)(y,{...e})}function y({users:e,currentUser:t,onSelect:n,sx:i={}}){return(0,r.jsx)(s.Z,{sx:{maxHeight:330,overflowY:"auto",...i},children:e.map(e=>(0,r.jsx)(x,{user:e,isCurrent:e.login===t?.login,onSelect:n},e.login))})}function j({users:e,currentUser:t,onSelect:n,sx:i={}}){return(0,r.jsx)(h.H,{items:e,itemHeight:33,sx:{maxHeight:330,overflowY:"auto",...i},makeKey:e=>e.login,renderItem:e=>(0,r.jsx)(x,{user:e,isCurrent:e.login===t?.login,onSelect:n},e.login)})}try{g.displayName||(g.displayName="UsersList")}catch{}try{y.displayName||(y.displayName="FullUsersList")}catch{}try{j.displayName||(j.displayName="VirtualUsersList")}catch{}function _(e){let{defaultText:t,usersState:n,currentUser:m,onSelect:u,hotKey:f,onOpenChange:h,renderCustomFooter:x,size:y,showTypedInUser:j=!1,width:_="large",label:N=""}=e,[S,k]=(0,p.useState)(""),D=function(e,t){let n=t.trim().toLowerCase();return n?e.filter(e=>e.login.toLowerCase().includes(n)||e.name?.toLowerCase().includes(n)):e}(n.users,S);return(0,r.jsx)(s.Z,{children:(0,r.jsxs)(o.P,{onOpenChange:h,children:[(0,r.jsx)(o.P.Button,{"data-hotkey":f,size:y,"data-testid":"user-selector-button",children:(0,r.jsxs)(s.Z,{sx:{display:"flex"},children:[(0,r.jsx)(s.Z,{sx:{mr:2},children:m?(0,r.jsx)(i.O,{size:16,src:m.primaryAvatarUrl,square:m.path.startsWith("/apps/")}):(0,r.jsx)(l.Z,{icon:a.PeopleIcon,size:"small",sx:{color:"fg.muted"}})}),(0,r.jsx)(s.Z,{sx:{maxWidth:125,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:m?(0,r.jsxs)(d.Z,{children:[N,m.login]}):(0,r.jsx)(d.Z,{children:t})})]})}),(0,r.jsx)(o.P.Overlay,{width:_,children:(0,r.jsxs)(c.S,{showDividers:!0,selectionVariant:"single",children:[(0,r.jsx)(b,{defaultText:S,onFilterChange:k}),(0,r.jsx)(c.S.Divider,{}),n.loading?(0,r.jsx)(v,{}):n.error?(0,r.jsx)(w,{}):0===D.length?(0,r.jsx)(C,{showTypedInUser:j,filterText:S,onSelect:u}):(0,r.jsx)(g,{users:D,currentUser:m,onSelect:u,sx:x?{pb:"10px",pt:1}:{pt:1}}),x&&(0,r.jsx)(c.S.Divider,{sx:{marginTop:0}}),x?.()]})})]})})}function b({onFilterChange:e,defaultText:t}){return(0,r.jsx)(c.S.Group,{sx:{px:2},children:(0,r.jsx)(m.Z,{leadingVisual:a.SearchIcon,value:t,sx:{width:"100%"},placeholder:"Find a user...",onChange:t=>e(t.target.value)})})}function v(){return(0,r.jsx)(s.Z,{sx:{display:"flex",justifyContent:"center",p:2},children:(0,r.jsx)(u.Z,{size:"medium","aria-label":"Loading users..."})})}function w(){return(0,r.jsx)(f.Z,{variant:"danger",children:"Could not load users"})}function C({showTypedInUser:e,filterText:t,onSelect:n}){return e?(0,r.jsx)(c.S.Item,{sx:{display:"flex",justifyContent:"center",mb:2},onSelect:()=>{n&&n({login:t,name:t,path:"",primaryAvatarUrl:""})},children:(0,r.jsxs)(r.Fragment,{children:["Filter on author\xa0",(0,r.jsx)(s.Z,{as:"span",sx:{fontWeight:600},children:t})]})}):(0,r.jsx)(s.Z,{sx:{p:3,display:"flex",justifyContent:"center"},children:"Nothing to show"})}try{_.displayName||(_.displayName="UserSelector")}catch{}try{b.displayName||(b.displayName="UserFilter")}catch{}try{v.displayName||(v.displayName="Loading")}catch{}try{w.displayName||(w.displayName="LoadingFailed")}catch{}try{C.displayName||(C.displayName="UsersZeroState")}catch{}},52674:(e,t,n)=>{n.d(t,{H:()=>o,d:()=>s});var r=n(85893),i=n(67294);let a=i.createContext({});function s({repository:e,children:t}){return(0,r.jsxs)(a.Provider,{value:e,children:[" ",t," "]})}function o(){return i.useContext(a)}try{a.displayName||(a.displayName="CurrentRepositoryContext")}catch{}try{s.displayName||(s.displayName="CurrentRepositoryProvider")}catch{}},37589:(e,t,n)=>{n.d(t,{M:()=>s,x:()=>o});var r=n(85893),i=n(67294);let a=i.createContext(void 0);function s({user:e,children:t}){return(0,r.jsxs)(a.Provider,{value:e,children:[" ",t," "]})}function o(){return i.useContext(a)}try{a.displayName||(a.displayName="CurrentUserContext")}catch{}try{s.displayName||(s.displayName="CurrentUserProvider")}catch{}},5475:(e,t,n)=>{n.d(t,{g:()=>r});function r({path:e,Component:t,shouldNavigateOnError:n,transitionType:r,children:i}){return{path:e,Component:t,coreLoader:async function({location:e}){let t;try{let n=`${e.pathname}${e.search}`;t=await window.fetch(n,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest","X-GitHub-Target":"dotcom"}})}catch(e){return{type:n?"route-handled-error":"error",error:{type:"fetchError"}}}if(t.redirected)return{type:"redirect",url:t.url};if(!t.ok)return{type:n?"route-handled-error":"error",error:{type:"httpError",httpStatus:t.status}};try{let e=await t.json();return{type:"loaded",data:e,title:e.title}}catch(e){return{type:n?"route-handled-error":"error",error:{type:"badResponseError"}}}},loadFromEmbeddedData:function({embeddedData:e}){return{data:e,title:e.title}},transitionType:r,children:i}}},30953:(e,t,n)=>{n.d(t,{K:()=>o});var r=n(85893),i=n(79804),a=n(42483),s=n(21673);function o({zIndex:e,altText:t,hovercardUrl:n,src:o,square:l,icon:d,iconColor:c,backgroundColor:m,backgroundSx:u,sx:f,size:p=20}){return(0,r.jsxs)(a.Z,{sx:{position:"relative",display:"flex",gap:2,alignItems:"center",...e,...f},children:[(0,r.jsx)(i.O,{alt:t,"data-hovercard-url":n,size:p,square:l,src:o}),(0,r.jsx)(s.J,{icon:d,iconColor:c,size:12,backgroundColor:m,backgroundSx:u})]})}try{o.displayName||(o.displayName="StatusAvatar")}catch{}},21673:(e,t,n)=>{n.d(t,{J:()=>s});var r=n(85893),i=n(42483),a=n(98833);function s({iconColor:e,icon:t,size:n=12,backgroundColor:s="fg.onEmphasis",absolute:o=!0,backgroundSx:l}){let d,c;return 12===n?(d="10px",c="1px"):20===n?(d="16px",c="2px"):(d="16px",c="4px"),(0,r.jsxs)(i.Z,{sx:{display:"flex",borderRadius:"100px",...o?{position:"absolute",bottom:-1,right:-1,boxShadow:"0 0 0 2px var(--bgColor-default, var(--color-canvas-default))",backgroundColor:"var(--bgColor-default, var(--color-canvas-default))"}:{position:"relative"},...l},children:[(0,r.jsx)(i.Z,{sx:{display:"flex",position:"absolute",borderRadius:"100px",width:d,height:d,left:c,top:c,backgroundColor:s}}),(0,r.jsx)(a.Z,{icon:t,size:n,sx:{color:e,position:"relative"}})]})}try{s.displayName||(s.displayName="StatusIcon")}catch{}},80803:(e,t,n)=>{n.d(t,{c:()=>a});var r=n(32841),i=n(83509);function a(e,t){let n=(0,r.Q)(e);if(isNaN(n.getTime()))throw RangeError("Invalid time value");let a=t?.format??"extended",s=t?.representation??"complete",o="",l="",d="extended"===a?"-":"";if("time"!==s){let e=(0,i.r)(n.getDate(),2),t=(0,i.r)(n.getMonth()+1,2),r=(0,i.r)(n.getFullYear(),4);o=`${r}${d}${t}${d}${e}`}if("date"!==s){let e=n.getTimezoneOffset();if(0!==e){let t=Math.abs(e),n=(0,i.r)(Math.trunc(t/60),2),r=(0,i.r)(t%60,2);l=`${e<0?"+":"-"}${n}:${r}`}else l="Z";let t=(0,i.r)(n.getHours(),2),r=(0,i.r)(n.getMinutes(),2),s=(0,i.r)(n.getSeconds(),2),d=""===o?"":"T",c=[t,r,s].join("extended"===a?":":"");o=`${o}${d}${c}${l}`}return o}},63595:(e,t,n)=>{n.d(t,{D:()=>i});var r=n(81853);function i(e,t){let n,i;let f=t?.additionalDigits??2,p=function(e){let t;let n={},r=e.split(a.dateTimeDelimiter);if(r.length>2)return n;if(/:/.test(r[0])?t=r[0]:(n.date=r[0],t=r[1],a.timeZoneDelimiter.test(n.date)&&(n.date=e.split(a.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length))),t){let e=a.timezone.exec(t);e?(n.time=t.replace(e[1],""),n.timezone=e[1]):n.time=t}return n}(e);if(p.date){let e=function(e,t){let n=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};let i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:null===a?i:100*a,restDateString:e.slice((r[1]||r[2]).length)}}(p.date,f);n=function(e,t){if(null===t)return new Date(NaN);let n=e.match(s);if(!n)return new Date(NaN);let r=!!n[4],i=d(n[1]),a=d(n[2])-1,o=d(n[3]),l=d(n[4]),c=d(n[5])-1;if(r)return l>=1&&l<=53&&c>=0&&c<=6?function(e,t,n){let r=new Date(0);r.setUTCFullYear(e,0,4);let i=r.getUTCDay()||7;return r.setUTCDate(r.getUTCDate()+((t-1)*7+n+1-i)),r}(t,l,c):new Date(NaN);{let e=new Date(0);return a>=0&&a<=11&&o>=1&&o<=(m[a]||(u(t)?29:28))&&i>=1&&i<=(u(t)?366:365)?(e.setUTCFullYear(t,a,Math.max(i,o)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!n||isNaN(n.getTime()))return new Date(NaN);let h=n.getTime(),x=0;if(p.time&&isNaN(x=function(e){let t=e.match(o);if(!t)return NaN;let n=c(t[1]),i=c(t[2]),a=c(t[3]);return(24===n?0===i&&0===a:a>=0&&a<60&&i>=0&&i<60&&n>=0&&n<25)?n*r.vh+i*r.yJ+1e3*a:NaN}(p.time)))return new Date(NaN);if(p.timezone){if(isNaN(i=function(e){if("Z"===e)return 0;let t=e.match(l);if(!t)return 0;let n="+"===t[1]?-1:1,i=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return a>=0&&a<=59?n*(i*r.vh+a*r.yJ):NaN}(p.timezone)))return new Date(NaN)}else{let e=new Date(h+x),t=new Date(0);return t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t}return new Date(h+x+i)}let a={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},s=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,o=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,l=/^([+-])(\d{2})(?::?(\d{2}))?$/;function d(e){return e?parseInt(e):1}function c(e){return e&&parseFloat(e.replace(",","."))||0}let m=[31,null,31,30,31,30,31,31,30,31,30,31];function u(e){return e%400==0||e%4==0&&e%100!=0}}},e=>{var t=t=>e(e.s=t);e.O(0,["react-lib","vendors-node_modules_dompurify_dist_purify_js","vendors-node_modules_primer_octicons-react_dist_index_esm_js-node_modules_primer_react_lib-es-541a38","vendors-node_modules_primer_react_lib-esm_Box_Box_js","vendors-node_modules_primer_react_lib-esm_Button_Button_js","vendors-node_modules_primer_react_lib-esm_TooltipV2_Tooltip_js","vendors-node_modules_primer_behaviors_dist_esm_focus-zone_js","vendors-node_modules_primer_react_node_modules_primer_octicons-react_dist_index_esm_mjs","vendors-node_modules_primer_react_lib-esm_ActionList_index_js","vendors-node_modules_primer_react_lib-esm_Text_Text_js-node_modules_primer_react_lib-esm_Text-7845da","vendors-node_modules_primer_react_lib-esm_FormControl_FormControl_js","vendors-node_modules_primer_react_lib-esm_AnchoredOverlay_AnchoredOverlay_js","vendors-node_modules_github_catalyst_lib_index_js-node_modules_github_hydro-analytics-client_-4da1df","vendors-node_modules_react-router-dom_dist_index_js","vendors-node_modules_primer_react_lib-esm_SelectPanel_SelectPanel_js","vendors-node_modules_github_relative-time-element_dist_index_js","vendors-node_modules_react-relay_index_js","vendors-node_modules_braintree_browser-detection_dist_browser-detection_js-node_modules_githu-fd5530","vendors-node_modules_date-fns_format_mjs","vendors-node_modules_primer_react_lib-esm_Heading_Heading_js-node_modules_primer_react_lib-es-1f7291","vendors-node_modules_primer_react_lib-esm_ConfirmationDialog_ConfirmationDialog_js","vendors-node_modules_date-fns_addWeeks_mjs-node_modules_date-fns_addYears_mjs-node_modules_da-827f4f","vendors-node_modules_primer_react_lib-esm_Label_Label_js-node_modules_primer_react_lib-esm_Se-443e5e","vendors-node_modules_primer_react_lib-esm_Avatar_Avatar_js-node_modules_primer_react_lib-esm_-2bd0c9","vendors-node_modules_primer_react_lib-esm_Popover_Popover_js-node_modules_date-fns_difference-a582b2","vendors-node_modules_github_combobox-nav_dist_index_js-node_modules_github_markdown-toolbar-e-820fc0","vendors-node_modules_primer_react_lib-esm_Dialog_js-node_modules_primer_react_lib-esm_TabNav_-8321f5","vendors-node_modules_primer_react_lib-esm_Button_LinkButton_js-node_modules_primer_react_lib--cf5978","vendors-node_modules_github_quote-selection_dist_index_js-node_modules_primer_react_lib-esm_A-a4c344","ui_packages_react-core_register-app_ts","ui_packages_relay-environment_relay-environment_ts","ui_packages_list-view_list-view_ts","ui_packages_item-picker_components_RepositoryPicker_tsx","ui_packages_date-picker_date-picker_ts","ui_packages_issue-create_dialog_CreateIssueDialogEntry_tsx","ui_packages_ref-selector_RefSelector_tsx","ui_packages_analytics-provider_analytics-provider_ts-ui_packages_commenting_hooks_use-markdow-3e9406","ui_packages_commit-attribution_index_ts-ui_packages_commit-checks-status_index_ts-ui_packages-bb2049","ui_packages_diff-file-header_diff-file-header_ts-ui_packages_diff-file-tree_diff-file-tree_ts-f395a8"],()=>t(29270)),e.O()}]);
//# sourceMappingURL=commits-f10ea74bc1d1.js.map